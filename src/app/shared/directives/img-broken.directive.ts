import { Directive, ElementRef, HostListener, Input } from '@angular/core';

@Directive({
    selector: '[appImgBroken]',
})
export class ImgBrokenDirective {
    @Input() customImg: string | boolean = false;
    @HostListener('error') errorHandler(): void {
        const elNative = this.host.nativeElement;
        console.log('Error al cargar la imagen -> ', this.host);
        elNative.src = '../../../assets/images/img-broken.png';

        if (this.customImg) {
            elNative.src = this.customImg;
        } else {
            elNative.src =
                'data:image/png;base64,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';
        }
    }

    constructor(private host: ElementRef) {}
}
